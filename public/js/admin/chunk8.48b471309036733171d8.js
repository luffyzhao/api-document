webpackJsonp([8],{426:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(427),i=a.n(o),n=a(430),s=a.n(n);e.default={data(){this.$createElement;return{Columns:[{title:"用户组名称",key:"name"},{title:"用户组描述",key:"description"},{title:"操作",render:(t,{row:e,column:a,index:o})=>t("button-group",null,[t("i-button",{on:{click:()=>{this.updateButton(e)}},attrs:{size:"small"}},["更新"]),t("poptip",{attrs:{transfer:!0,title:"您确认删除这条内容吗？",confirm:!0},on:{"on-ok":()=>{this.deleteButton(e)}}},[t("i-button",{attrs:{size:"small"}},["删除"])])])}],Datas:[],page:{total:0,current:1,page_size:20},createModalShow:!1,updateModalShow:!1,updateId:0}},mounted(){this.search(1)},methods:{search(t){this.$get("admin/group",{page:t}).then(t=>{this.Datas=t.data.data,this.page.total=t.data.total,this.page.current=t.data.current_page,this.page.page_size=t.data.per_page})},updateButton(t){this.updateId=t.id,this.updateModalShow=!0},deleteButton(t){this.$delete(`admin/group/${t.id}`).then(t=>{this.$Message.error("权限删除成功!"),this.search(this.page.current)})},visibleChangeCreate(t){this.createModalShow=t,!1===t&&this.search(1)},visibleChangeUpdate(t){this.updateModalShow=t,!1===t&&this.search(this.page.current)}},components:{Create:i.a,Update:s.a}}},427:function(t,e,a){var o=a(4)(a(428),a(429),!1,null,null,null);t.exports=o.exports},428:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{show:{type:Boolean,default:!1}},computed:{modalShow:{get:function(){return this.show},set:function(){}}},data:function(){return{loadingVisible:!1,formItem:{}}},methods:{visibleChange:function(t){!1===t?this.$emit("visibleChange",t):this.formItem={}},submit:function(t){var e=this;this.loadingVisible=!0,this.$refs[t].validate(function(t){t&&e.$post("admin/group",e.formItem).then(function(t){e.$Message.error("用户组添加成功!"),e.loadingVisible=!1,e.visibleChange(!1)})})}}}},429:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Modal",{attrs:{title:"创建用户组","mask-closable":!1,"class-name":"vertical-center-modal",width:"auto","ok-text":"提交"},on:{"on-visible-change":t.visibleChange,"on-ok":t.submit},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[a("Form",{ref:"formItem",attrs:{model:t.formItem,"label-width":100}},[a("FormItem",{attrs:{label:"用户组",prop:"name",rules:{required:!0,message:"用户组验证不通过!",trigger:"blur"}}},[a("Input",{staticStyle:{width:"500px"},attrs:{placeholder:"Enter something..."},model:{value:t.formItem.name,callback:function(e){t.$set(t.formItem,"name",e)},expression:"formItem.name"}})],1),t._v(" "),a("FormItem",{attrs:{label:"用户组描述",prop:"description"}},[a("Input",{staticStyle:{width:"500px"},attrs:{type:"textarea",placeholder:"Enter something..."},model:{value:t.formItem.description,callback:function(e){t.$set(t.formItem,"description",e)},expression:"formItem.description"}})],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary",size:"large",loading:t.loadingVisible},on:{click:function(e){t.submit("formItem")}}},[t._v("提交")])],1)],1)],1)},staticRenderFns:[]}},430:function(t,e,a){var o=a(4)(a(431),a(432),!1,null,null,null);t.exports=o.exports},431:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{show:{type:Boolean,default:!1},row:{type:Number,default:0}},computed:{modalShow:{get:function(){return this.show},set:function(){}},updateId:function(){return this.row}},data:function(){return{loadingVisible:!1,formItem:{}}},methods:{visibleChange:function(t){!1===t?this.$emit("visibleChange",t):this.formItem={}},submit:function(t){var e=this;this.loadingVisible=!0,this.$refs[t].validate(function(t){t&&e.$put("admin/group/"+e.updateId,{name:e.formItem.name,description:e.formItem.description}).then(function(t){e.loadingVisible=!1,e.visibleChange(!1),e.$Message.error("权限更新成功!")})})}},watch:{modalShow:function(t,e){var a=this;t?this.$get("admin/group/"+this.updateId).then(function(t){a.formItem=t.data}):this.formItem={}}}}},432:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Modal",{attrs:{title:"修改文档","mask-closable":!1,"class-name":"vertical-center-modal",width:"auto","ok-text":"提交"},on:{"on-visible-change":t.visibleChange,"on-ok":t.submit},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[a("Form",{ref:"formItem",attrs:{model:t.formItem,"label-width":100}},[a("FormItem",{attrs:{label:"用户组",prop:"name",rules:{required:!0,message:"用户组验证不通过!",trigger:"blur"}}},[a("Input",{staticStyle:{width:"500px"},attrs:{placeholder:"Enter something..."},model:{value:t.formItem.name,callback:function(e){t.$set(t.formItem,"name",e)},expression:"formItem.name"}})],1),t._v(" "),a("FormItem",{attrs:{label:"用户组描述",prop:"description"}},[a("Input",{staticStyle:{width:"500px"},attrs:{type:"textarea",placeholder:"Enter something..."},model:{value:t.formItem.description,callback:function(e){t.$set(t.formItem,"description",e)},expression:"formItem.description"}})],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary",size:"large",loading:t.loadingVisible},on:{click:function(e){t.submit("formItem")}}},[t._v("提交")])],1)],1)],1)},staticRenderFns:[]}},433:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box-flex"},[a("div",{staticClass:"box-flex-list"},[a("Card",{attrs:{bordered:!1}},[a("p",{attrs:{slot:"title"},slot:"title"},[a("span",[t._v("列表")]),t._v(" "),a("Button",{attrs:{size:"small",type:"success"},on:{click:function(e){t.createModalShow=!0}}},[t._v("添加")])],1),t._v(" "),a("Table",{ref:"table",attrs:{columns:t.Columns,data:t.Datas,size:"small"}}),t._v(" "),a("Page",{attrs:{total:t.page.total,size:"small",current:t.page.current,"page-size":t.page.page_size,"show-total":""},on:{"update:current":function(e){t.$set(t.page,"current",e)}}})],1)],1),t._v(" "),a("Create",{attrs:{show:t.createModalShow},on:{visibleChange:t.visibleChangeCreate}}),t._v(" "),a("Update",{attrs:{show:t.updateModalShow,row:t.updateId},on:{visibleChange:t.visibleChangeUpdate}})],1)},staticRenderFns:[]}},478:function(t,e,a){var o=a(4)(a(426),a(433),!1,null,null,null);t.exports=o.exports}});